(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[667],{3006:function(e,s,t){Promise.resolve().then(t.bind(t,5733))},5733:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var i=t(7437),r=t(2265),n=t(9376),a=t(2869),l=t(5186),c=t(2660),o=t(5805),d=t(9205);let u=(0,d.Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),h=(0,d.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var x=t(9397),m=t(6326),p=t(1241);function f(e){let{params:s}=e,t=(0,n.useRouter)(),[d,f]=(0,r.useState)(""),[g,y]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=s.chatId;if(!e)return;let t=(0,p.T)(Number(e)),i=(0,p.Pv)(e);t&&y({id:t.id,title:t.title,participants:t.participants||["You","John Doe","Jane Smith","Alex Johnson"],messages:i})},[s.chatId]);let j=()=>{if(!d.trim()||!g)return;let e={id:g.messages.length+1,text:d,sender:"You",timestamp:"Just now",isCurrentUser:!0};y({...g,messages:[...g.messages,e]}),f("")};return g?(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-16 flex flex-col",children:[(0,i.jsx)("header",{className:"bg-discusy-blue text-white p-4",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(a.z,{variant:"ghost",size:"icon",className:"mr-2 text-white",onClick:()=>t.push("/chats"),children:(0,i.jsx)(c.Z,{size:20})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-xl font-bold",children:g.title}),(0,i.jsx)("p",{className:"text-xs opacity-80",children:g.participants.join(", ")})]})]}),(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(a.z,{variant:"ghost",size:"icon",className:"text-white",children:(0,i.jsx)(o.Z,{size:20})}),(0,i.jsx)(a.z,{variant:"ghost",size:"icon",className:"text-white",children:(0,i.jsx)(u,{size:20})})]})]})}),(0,i.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:g.messages.map(e=>(0,i.jsx)("div",{className:"flex ".concat(e.isCurrentUser?"justify-end":"justify-start"),children:(0,i.jsxs)("div",{className:"max-w-3/4 rounded-lg px-4 py-2 ".concat(e.isCurrentUser?"bg-discusy-blue text-white":"bg-gray-200 text-gray-800"),children:[!e.isCurrentUser&&(0,i.jsx)("p",{className:"text-xs font-semibold",children:e.sender}),(0,i.jsx)("p",{children:e.text}),(0,i.jsx)("p",{className:"text-xs opacity-70 text-right mt-1",children:e.timestamp})]})},e.id))}),(0,i.jsxs)("div",{className:"p-4 bg-white border-t border-gray-200 flex items-center",children:[(0,i.jsx)(l.I,{placeholder:"Type a message...",value:d,onChange:e=>f(e.target.value),className:"flex-grow",onKeyPress:e=>"Enter"===e.key&&j()}),(0,i.jsx)(a.z,{variant:"ghost",size:"icon",className:"ml-2 text-discusy-blue",onClick:j,disabled:!d.trim(),children:(0,i.jsx)(h,{size:20})})]}),(0,i.jsx)("div",{className:"fixed bottom-20 right-6",children:(0,i.jsx)(a.z,{size:"icon",className:"h-12 w-12 rounded-full bg-discusy-blue hover:bg-discusy-blue/90 shadow-lg",onClick:()=>t.push("/create-chat"),children:(0,i.jsx)(x.Z,{size:24})})}),(0,i.jsx)(m.Z,{})]}):(0,i.jsx)("div",{className:"flex items-center justify-center h-screen",children:"Loading..."})}},1241:function(e,s,t){"use strict";t.d(s,{Pv:function(){return o},T:function(){return c},W6:function(){return l},Zm:function(){return a},n2:function(){return n}});let i=[{id:1,title:"CS101 Study Group",lastMessage:"Hey, when's the next study session?",time:"2m ago",unread:3,courseCode:"CS101",participants:["You","John Doe","Jane Smith"]},{id:2,title:"Math Club",lastMessage:"Don't forget about the quiz tomorrow!",time:"1h ago",unread:0,courseCode:"MATH201",participants:["You","Alex Johnson","Sarah Wilson"]},{id:3,title:"Physics Lab Group",lastMessage:"The lab report is due next week",time:"3h ago",unread:1,courseCode:"PHYS101",participants:["You","Mike Brown","Lisa Chen"]}],r={1:[{id:1,text:"Hey everyone!",sender:"John Doe",timestamp:"10:30 AM",isCurrentUser:!1},{id:2,text:"Hi! How's the studying going?",sender:"You",timestamp:"10:31 AM",isCurrentUser:!0},{id:3,text:"Hey, when's the next study session?",sender:"Jane Smith",timestamp:"10:32 AM",isCurrentUser:!1}],2:[{id:1,text:"Don't forget about the quiz tomorrow!",sender:"Alex Johnson",timestamp:"1h ago",isCurrentUser:!1}],3:[{id:1,text:"The lab report is due next week",sender:"Mike Brown",timestamp:"3h ago",isCurrentUser:!1}]},n=()=>i,a=()=>i.filter(e=>e.courseCode),l=()=>i.filter(e=>e.title.includes("Team")),c=e=>i.find(s=>s.id===e),o=e=>r[e]||[]}},function(e){e.O(0,[137,850,610,971,117,744],function(){return e(e.s=3006)}),_N_E=e.O()}]);